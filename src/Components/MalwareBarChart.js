import React, { Component } from 'react'
import '../App.css'
import { ResponsiveContainer, BarChart, XAxis, YAxis, Tooltip, CartesianGrid, Legend, Bar } from 'recharts';
class MalwareBarChart extends Component {

    constructor() {
        super()
        this.state = {
            malware: []
        }
    }

    componentDidMount() {
        fetch('/malware')
            .then(res => res.json())
            .then((data) => {
                console.log(data);
                this.setState({ malware: data })
            })
    }



    render() {
        return (
            <div className="mdc-card">
                <div className="mdc-card__media-item autoSize">
                    <ResponsiveContainer width='100%' aspect={4.0 / 3.0}>
                        <BarChart data={this.state.malware}>
                            <XAxis dataKey="value" />
                            <YAxis />
                            <CartesianGrid strokeDasharray="3 3" />
                            <Tooltip />
                            <Legend />
                            <Bar dataKey="count" fill="#80b569" />
                        </BarChart>
                    </ResponsiveContainer>
                </div>
                <section className="mdc-card__primary">
                    <h1 className="mdc-card__title mdc-card__title--large">Top 10 Ransomware Types</h1>
                    <h2 className="mdc-card__subtitle"></h2>
                </section>

            </div>
        )
    }

}

export default MalwareBarChart